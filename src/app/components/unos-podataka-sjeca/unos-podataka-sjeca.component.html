
<div class="container">
  <div class="row form-row">
    <div class="col-4 uputstvo">
      <div class="card text-dark bg-warning mb-3" style="max-width: 80%;">
        <div class="card-header">Uputstvo za izradu projekta</div>
        <div class="card-body">
          <h5 class="card-title">Korak 1.</h5>
          <p class="card-text">Platiti pa se klatiti.</p>
        </div>
      </div>
    </div>

    <div class="col-4 offset-1">
      <div class="card text-center">
        <div class="card-header bg-info">
          <h5>Unesite precnike po vrstama i uslove rada</h5>
        </div>
        <div class="card-body">
         <div class="unosPrecnika" *ngIf="uneseniSviPrecnici">
          <form [formGroup]='unosPrecnika'>
            <div class="form-group">
              <select formControlName="vrsta" class="form-control" required>
                <option [ngValue]="null" [disabled]="true">Vrsta drveta</option>
                <option [ngValue]="1" [hidden]="trueJela">Jela</option>
                <option [ngValue]="2" [hidden]="trueSmrca">Smrca</option>
                <option [ngValue]="3" [hidden]="trueBb">B. bor</option>
                <option [ngValue]="4" [hidden]="trueCb">C. bor</option>
                <option [ngValue]="5" [hidden]="trueBukva">Bukva</option>
                <option [ngValue]="6" [hidden]="trueHrast">Hrast</option>
                <option [ngValue]="7" [hidden]="truePl">Pl. liscari</option>
                <option [ngValue]="8" [hidden]="trueOl">Ostali liscari</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosPrecnika.get('vrsta').errors?.required">
                Unijeti vrstu drveta.
              </small>
            </div><br>

            <div class="form-group">
              <input
                placeholder="Srednji precnik"
                class="form-control"
                formControlName="precnik">
              <small class="text-danger"
                     *ngIf="unosPrecnika.get('precnik').errors?.required ||
                            unosPrecnika.get('precnik').errors?.minlength ||
                            unosPrecnika.get('precnik').errors?.maxlength">
                Precnik mora biti dvocifren.
              </small>
            </div> <br>

            <div class="form-group">
              <button class="btn btn-warning" type="button" (click)="unesiPrecnik()">
                Potvrdi vrstu i precnik
              </button> <br> <br> <hr>
            </div>
          </form>
        </div>
        <div class="unosNormi" *ngIf="zavrsenoSaUnosomPrecnika">
          <form [formGroup]='unosUslovaRada'>
            <div class="form-group">
              <select class="form-select" formControlName="nagibSjeca" required>
                <option [ngValue]="null" [disabled]="true">Nagib terena - sjeca</option>
                <option [ngValue]="1">Do 15`</option>
                <option [ngValue]="3">Od 15-30`</option>
                <option [ngValue]="11">Preko 30`</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('nagibSjeca').errors?.required">
                Unijeti nagib za sjecu!
              </small><br>
              <select class="form-select" formControlName="gustinaPodmlatkaSjeca" required>
                <option [ngValue]="null" [disabled]="true">Gustina podmlatka</option>
                <option [ngValue]="1">Neznatan</option>
                <option [ngValue]="4">Srednje gust</option>
                <option [ngValue]="10">Gust</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('gustinaPodmlatkaSjeca').errors?.required">
                Unijeti gustinu podmlatka!
              </small> <br>
              <select class="form-select" formControlName="doznacenaMasaSjeca" required>
                <option [ngValue]="null" [disabled]="true">Doznacena masa</option>
                <option [ngValue]="4">Veca od 80 m3/ha</option>
                <option [ngValue]="6">60-80 m3/ha</option>
                <option [ngValue]="10">Do 60 m3/ha</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('doznacenaMasaSjeca').errors?.required">
                Unijeti doznačenu masu!
              </small> <br>
              <select class="form-select" formControlName="nadmorskaVisinaSjecaAnimal" required>
                <option [ngValue]="null" [disabled]="true">Nadmorska visina</option>
                <option [ngValue]="1">Do 1000 mnv</option>
                <option [ngValue]="3">1000-1500 mnv</option>
                <option [ngValue]="6">Iznad 1500 mnv</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('nadmorskaVisinaSjecaAnimal').errors?.required">
                Unijeti nadmorsku visinu!
              </small> <br>
              <select class="form-select" formControlName="udaljenostOdCesteSjeca" required>
                <option [ngValue]="null" [disabled]="true">Udaljenost od ceste</option>
                <option [ngValue]="3">Do 500 m</option>
                <option [ngValue]="5">500-1500 m</option>
                <option [ngValue]="12">Iznad 1500 m</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('udaljenostOdCesteSjeca').errors?.required">
                Unijeti udaljenost od ceste!
              </small> <br>
              <select class="form-select" formControlName="nagibAnimal" required>
                <option [ngValue]="null" [disabled]="true">Nagib terena - animal</option>
                <option [ngValue]="4">10`-20`</option>
                <option [ngValue]="6">Veci od 20`</option>
                <option [ngValue]="10">0`-10`</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('nagibAnimal').errors?.required">
                Unijeti nagib za animal!
              </small> <br> <br>

              <div class="form-check">
                <input class="form-check-input" type="checkbox"
                       formControlName="saKorom" id="saKorom">
                <label class="form-check-label" for="saKorom">
                  Da li se cetinari izvlace sa korom?
                </label> <br>
              </div><br>

              <select class="form-select" formControlName="ucesceLiscaraAnimal"required >
                <option [ngValue]="null" [disabled]="true">Ucesce liscara</option>
                <option [ngValue]="1">Cisti cetinari</option>
                <option [ngValue]="3">Do 50 %</option>
                <option [ngValue]="6">Preko 50 %</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('ucesceLiscaraAnimal').errors?.required">
                Unijeti učešće lišćara!
              </small> <br>
              <select class="form-select" formControlName="udaljenostOdStale" required>
                <option [ngValue]="null" [disabled]="true">Udaljenost od stale</option>
                <option [ngValue]="2">Do 1 km</option>
                <option [ngValue]="5">1-3 km</option>
                <option [ngValue]="8">Preko 3 km</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('udaljenostOdStale').errors?.required">
                Unijeti udaljenost od štale!
              </small> <br>
              <div clas="bonitetCetinari" *ngIf="trueBonitetCetinari">
              <select class="form-select"  formControlName="bonitetCetinari" required>
                <option [ngValue]="null" [disabled]="true">Bonitet cetinari</option>
                <option value="1">Prvi</option>
                <option value="2">Drugi</option>
                <option value="3">Treći</option>
                <option value="4">Četvrti</option>
                <option value="5">Peti</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('bonitetCetinari').errors?.required">
                Unijeti bonitet za četinare!
              </small>
            </div> <br>
            <div class="bonitetLiscari" *ngIf="trueBonitetLiscari">
              <select class="form-select" formControlName="bonitetLiscari" required>
                <option [ngValue]="null" [disabled]="true">Bonitet liscari</option>
                <option value="1">Prvi</option>
                <option value="2">Drugi</option>
                <option value="3">Treći</option>
                <option value="4">Četvrti</option>
                <option value="5">Peti</option>
              </select>
              <small class="text-danger"
                     *ngIf="unosUslovaRada.get('bonitetLiscari').errors?.required">
                Unijeti bonitet za lišćare!
              </small>
            </div> <br>
              <input formControlName="animalDistanca" placeholder="Animal distanca" class="form-control">
              <small class="text-danger"
                     *ngIf="
                            unosUslovaRada.get('animalDistanca').errors?.required ||
                            unosUslovaRada.get('animalDistanca').errors?.minlength ||
                            unosUslovaRada.get('animalDistanca').errors?.maxlength">
                Distanca mora biti trocifren ili četvorocifren broj.
              </small> <br> <br>

              <button type='button' class="btn btn-primary" (click)="potvrdi()">
                Potvrdi uslove rada
              </button>
            </div>
          </form>
        </div> 
        </div>
      </div>
    </div>
  </div> <br> <br>

  <table class="table table-bordered table-sm">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col"colspan="9">Sjeca</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <th scope="row">#</th>
      <td>Nagib terena</td>
      <td>Gustina podmlatka</td>
      <td>Doznacena masa po ha</td>
      <td>Sr. nadmorka visina</td>
      <td>Sr. udaljenost od ceste</td>
      <td>Sr. precnik doznacenog stabla cetinara</td>
      <td>Sr. precnik doznacenog stabla liscara</td>
      <td>Broj bodova cetinari</td>
      <td>Broj bodova liscari</td>
    </tr>
    <tr>
      <th scope="row">Br. bodova</th>
      <td>{{unosUslovaRada.get("nagibSjeca").value}}</td>
      <td>{{unosUslovaRada.get("gustinaPodmlatkaSjeca").value}}</td>
      <td>{{unosUslovaRada.get("doznacenaMasaSjeca").value}}</td>
      <td>{{unosUslovaRada.get("nadmorskaVisinaSjecaAnimal").value}}</td>
      <td>{{unosUslovaRada.get("udaljenostOdCesteSjeca").value}}</td>
      <td>{{this.srednjiPrecnikSjecaCetinariBodovi}}</td>
      <td>{{this.srednjiPrecnikSjecaLiscariBodovi}}</td>
      <td>{{this.bodoviCetinariSjeca}}</td>
      <td>{{this.bodoviLiscariSjeca}}</td>
    </tr>
    <tr>
      <th scope="col">#</th>
      <th scope="col"colspan="11">Animal</th>
    </tr>
    <tr>
      <th scope="row">#</th>
      <td>Nagib terena</td>
      <td>Ucesce liscara</td>
      <td>Gustina podmlatka</td>
      <td>Doznacena masa po ha</td>
      <td>Sr. nadmorka visina</td>
      <td>Sr. udaljenost od stale</td>
      <td>Sr. precnik doznacenog stabla cetinara</td>
      <td>Sr. precnik doznacenog stabla liscara</td>
      <td>Distanca animal</td>
      <td>Broj bodova cetinari</td>
      <td>Broj bodova liscari</td>
    </tr>
    <tr>
      <th scope="row">Br. bodova</th>
      <td>{{unosUslovaRada.get("nagibAnimal").value}}</td>
      <td>{{unosUslovaRada.get("ucesceLiscaraAnimal").value}}</td>
      <td>{{this.gustinaPodmlatkaAnimal}}</td>
      <td>{{this.doznacenaMasaAnimal}}</td>
      <td>{{unosUslovaRada.get("nadmorskaVisinaSjecaAnimal").value}}</td>
      <td>{{unosUslovaRada.get("udaljenostOdStale").value}}</td>
      <td>{{this.srednjiPrecnikCetinariBodoviAnimal}}</td>
      <td>{{this.srednjiPrecnikLiscariBodoviAnimal}}</td>
      <td>{{unosUslovaRada.get("animalDistanca").value}}</td>
      <td>{{this.bodoviCetinariAnimal}}</td>
      <td>{{this.bodoviLiscariAnimal}}</td>
    </tr>
    <tr>
      <th scope="col">#</th>
      <th scope="col" colspan="2">Cetinari</th>
      <th scope="col" colspan="2">Liscari</th>
    </tr>
    <tr>
      <th scope="col">Sr. precnik</th>
      <th scope="col" colspan="2">{{this.srednjiPrecnikCetinari}}</th>
      <th scope="col" colspan="2">{{this.srednjiPrecnikLiscari}}</th>
    </tr>
    <tr>
      <th scope="col">Bonitet</th>
      <th scope="col" colspan="2">{{unosUslovaRada.get("bonitetCetinari").value}}</th>
      <th scope="col" colspan="2">{{unosUslovaRada.get("bonitetLiscari").value}}</th>
    </tr>
    </tbody>
  </table>
</div>
